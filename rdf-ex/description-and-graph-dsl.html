<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Description and Graph DSL | RDF on Elixir</title>
    <meta name="generator" content="VuePress 1.9.3">
    <link rel="manifest" href="/icons/manifest.json">
    <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="/icons/favicon.ico">
    <link rel="icon" sizes="192x192" href="/icons/favicon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/favicon-180-precomposed.png">
    <meta name="description" content="Implementation of the Linked Data and Semantic Standards for Elixir">
    <meta name="msapplication-TileImage" content="/icons/favicon-144.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.e42cd381.css" as="style"><link rel="preload" href="/assets/js/app.d516a4a9.js" as="script"><link rel="preload" href="/assets/js/2.fe4a9d0f.js" as="script"><link rel="preload" href="/assets/js/21.5e2eba51.js" as="script"><link rel="preload" href="/assets/js/3.86527ece.js" as="script"><link rel="prefetch" href="/assets/js/10.d8652099.js"><link rel="prefetch" href="/assets/js/11.b5b063a5.js"><link rel="prefetch" href="/assets/js/12.66a069c0.js"><link rel="prefetch" href="/assets/js/13.2cfdc3dd.js"><link rel="prefetch" href="/assets/js/14.ab1c4cea.js"><link rel="prefetch" href="/assets/js/15.205368ce.js"><link rel="prefetch" href="/assets/js/16.4fba6b56.js"><link rel="prefetch" href="/assets/js/17.d904193e.js"><link rel="prefetch" href="/assets/js/18.14499fe3.js"><link rel="prefetch" href="/assets/js/19.0025da81.js"><link rel="prefetch" href="/assets/js/20.68a9feea.js"><link rel="prefetch" href="/assets/js/22.b2b92157.js"><link rel="prefetch" href="/assets/js/23.cae099a3.js"><link rel="prefetch" href="/assets/js/24.6c7c6e8f.js"><link rel="prefetch" href="/assets/js/25.eaecaff7.js"><link rel="prefetch" href="/assets/js/26.acaa031d.js"><link rel="prefetch" href="/assets/js/27.a4508bcd.js"><link rel="prefetch" href="/assets/js/28.903475f9.js"><link rel="prefetch" href="/assets/js/29.3b6c21b2.js"><link rel="prefetch" href="/assets/js/30.1981f7e2.js"><link rel="prefetch" href="/assets/js/31.4d0bdd70.js"><link rel="prefetch" href="/assets/js/32.6bf07341.js"><link rel="prefetch" href="/assets/js/33.e40eecb0.js"><link rel="prefetch" href="/assets/js/34.34d277ff.js"><link rel="prefetch" href="/assets/js/35.3a4c625b.js"><link rel="prefetch" href="/assets/js/36.f9a87501.js"><link rel="prefetch" href="/assets/js/37.94872f15.js"><link rel="prefetch" href="/assets/js/38.aa0b744b.js"><link rel="prefetch" href="/assets/js/39.045b81fb.js"><link rel="prefetch" href="/assets/js/4.48986d85.js"><link rel="prefetch" href="/assets/js/40.3cf15cb2.js"><link rel="prefetch" href="/assets/js/41.40cc84c4.js"><link rel="prefetch" href="/assets/js/42.0cc80afe.js"><link rel="prefetch" href="/assets/js/43.1fbcbf87.js"><link rel="prefetch" href="/assets/js/44.94d71f3f.js"><link rel="prefetch" href="/assets/js/45.a6b59359.js"><link rel="prefetch" href="/assets/js/46.50e39da4.js"><link rel="prefetch" href="/assets/js/47.dcb7e438.js"><link rel="prefetch" href="/assets/js/48.ad3aebe0.js"><link rel="prefetch" href="/assets/js/49.be64fc3b.js"><link rel="prefetch" href="/assets/js/5.eda9e818.js"><link rel="prefetch" href="/assets/js/50.bdb59928.js"><link rel="prefetch" href="/assets/js/6.c11fc16c.js"><link rel="prefetch" href="/assets/js/7.387005f0.js"><link rel="prefetch" href="/assets/js/8.5395f88e.js"><link rel="prefetch" href="/assets/js/9.3c40eb18.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e42cd381.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">RDF on Elixir</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rdf-ex/" class="nav-link router-link-active">
  RDF.ex
</a></div><div class="nav-item"><a href="/sparql-ex/" class="nav-link">
  SPARQL.ex
</a></div><div class="nav-item"><a href="/shex-ex/" class="nav-link">
  ShEx.ex
</a></div><div class="nav-item"><a href="/grax/" class="nav-link">
  Grax
</a></div><div class="nav-item"><a href="/rtc-ex/" class="nav-link">
  RTC.ex
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Documentation" class="dropdown-title"><span class="title">API Documentation</span> <span class="arrow down"></span></button> <button type="button" aria-label="API Documentation" class="mobile-dropdown-title"><span class="title">API Documentation</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql_client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.Client
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/shex/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ShEx.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/json_ld/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON-LD.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf_xml/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF-XML.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rtc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RTC.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/links.html" class="nav-link">
  Links
</a></div> <a href="https://github.com/rdf-elixir/website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/rdf-ex/" class="nav-link router-link-active">
  RDF.ex
</a></div><div class="nav-item"><a href="/sparql-ex/" class="nav-link">
  SPARQL.ex
</a></div><div class="nav-item"><a href="/shex-ex/" class="nav-link">
  ShEx.ex
</a></div><div class="nav-item"><a href="/grax/" class="nav-link">
  Grax
</a></div><div class="nav-item"><a href="/rtc-ex/" class="nav-link">
  RTC.ex
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Documentation" class="dropdown-title"><span class="title">API Documentation</span> <span class="arrow down"></span></button> <button type="button" aria-label="API Documentation" class="mobile-dropdown-title"><span class="title">API Documentation</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/sparql_client/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SPARQL.Client
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/shex/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ShEx.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/json_ld/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON-LD.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rdf_xml/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RDF-XML.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://hexdocs.pm/rtc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  RTC.ex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/links.html" class="nav-link">
  Links
</a></div> <a href="https://github.com/rdf-elixir/website" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RDF.ex</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rdf-ex/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/rdf-ex/installation.html" class="sidebar-link">Installation</a></li><li><a href="/rdf-ex/iris.html" class="sidebar-link">IRIs</a></li><li><a href="/rdf-ex/namespaces.html" class="sidebar-link">Namespaces and vocabularies</a></li><li><a href="/rdf-ex/blank-nodes.html" class="sidebar-link">Blank nodes</a></li><li><a href="/rdf-ex/literals.html" class="sidebar-link">Literals</a></li><li><a href="/rdf-ex/statements.html" class="sidebar-link">Statements</a></li><li><a href="/rdf-ex/data-structures.html" class="sidebar-link">RDF data structures</a></li><li><a href="/rdf-ex/lists.html" class="sidebar-link">Lists</a></li><li><a href="/rdf-ex/description-and-graph-dsl.html" aria-current="page" class="active sidebar-link">Description and Graph DSL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rdf-ex/description-and-graph-dsl.html#description-builder" class="sidebar-link">Description builder</a></li><li class="sidebar-sub-header"><a href="/rdf-ex/description-and-graph-dsl.html#graph-builder" class="sidebar-link">Graph builder</a></li></ul></li><li><a href="/rdf-ex/mapping-between-rdf-and-elixir.html" class="sidebar-link">Mapping of RDF terms and structures</a></li><li><a href="/rdf-ex/resource-generators.html" class="sidebar-link">Resource generators</a></li><li><a href="/rdf-ex/serializations.html" class="sidebar-link">Serializations</a></li><li><a href="/rdf-ex/rdf-star.html" class="sidebar-link">RDF-star</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="description-and-graph-dsl"><a href="#description-and-graph-dsl" class="header-anchor">#</a> Description and Graph DSL</h1> <p>RDF.ex comes with a declarative DSL to encode full RDF graphs in Elixir, which allows to serialize RDF graphs with the full power of Elixir and compile-time checks.</p> <p>It consists of two building-blocks (which can also be used independently of each other):</p> <ul><li>builder functions for compact <code>RDF.Description</code>s</li> <li>a general builder function for the encoding of <code>RDF.Graph</code>s</li></ul> <h2 id="description-builder"><a href="#description-builder" class="header-anchor">#</a> Description builder</h2> <p>The functions for the properties on a <code>RDF.Vocabulary.Namespace</code> module, which return the <code>RDF.IRI</code> of the property (see <a href="/rdf-ex/namespaces">here</a> for an introduction to <code>RDF.Vocabulary.Namespace</code>s), are also available in a description builder variant, that accepts a subject and objects as arguments.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Foo</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Bar</span><span class="token punctuation">)</span>
</code></pre></div><p>If you want to state multiple statements with the same subject and predicate, you can pass the objects as a list:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Foo</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Bar</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Baz</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Bar</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Baz</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>The produced statements are returned by this function as a <code>RDF.Description</code> structure. Since the first argument of these property functions also accept an <code>RDF.Description</code> for the subject (just using its subject as the subject for newly generated triple), the calls of these functions can be nested easily.
In combination with Elixirs pipe operators this leads to a way to describe RDF resources which resembles <a href="https://www.w3.org/TR/turtle/" target="_blank" rel="noopener noreferrer">Turtle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Foo</span>
<span class="token operator">|&gt;</span> <span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Bar</span><span class="token punctuation">)</span>
<span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>This will produce this <code>RDF.Description</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>#RDF.Description&lt;subject: ~I&lt;http://example.com/Foo&gt;
  &lt;http://example.com/Foo&gt;
      a &lt;http://example.com/Bar&gt; ;
      &lt;http://example.com/baz&gt; 1, 2, 3 .
&gt;
</code></pre></div><h2 id="graph-builder"><a href="#graph-builder" class="header-anchor">#</a> Graph builder</h2> <p>Full RDF graphs can be build with the <code>RDF.Graph.build/2</code> macro. It uses a <code>do</code> block in which you can write down RDF triples in any form supported by RDF.ex (including <code>RDF.Description</code>s with the description DSL) or Elixir expressions which return any of these forms.
These triples will be added to the created <code>RDF.Graph</code> the macro returns.</p> <p>As usual, you'll have to <code>require RDF.Graph</code> to be able to use the macro or just <code>use RDF</code>.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">use</span> <span class="token module class-name">RDF</span>
<span class="token keyword">alias</span> <span class="token module class-name">NS</span><span class="token punctuation">.</span><span class="token module class-name">EX</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token punctuation">{</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">P</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O</span><span class="token punctuation">}</span>

  <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S2</span>
  <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O2</span><span class="token punctuation">)</span>
  <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  
  <span class="token punctuation">%</span><span class="token punctuation">{</span>
    <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S3</span> <span class="token operator">=&gt;</span> <span class="token punctuation">%</span><span class="token punctuation">{</span>
      <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O1</span><span class="token punctuation">,</span>
      <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O2</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O3</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre></div><p>This will return the following <code>RDF.Graph</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>#RDF.Graph&lt;name: nil
  @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
  @prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
  @prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

  &lt;http://example.org/S&gt;
      &lt;http://example.org/P&gt; &lt;http://example.org/O&gt; .

  &lt;http://example.org/S2&gt;
      &lt;http://example.org/p1&gt; &lt;http://example.org/O2&gt; ;
      &lt;http://example.org/p2&gt; 1, 2, 3 .

  &lt;http://example.org/S3&gt;
      &lt;http://example.org/p1&gt; &lt;http://example.org/O1&gt; ;
      &lt;http://example.org/p2&gt; &lt;http://example.org/O2&gt;, &lt;http://example.org/O3&gt; .
&gt;
</code></pre></div><p>Apart from the vocabulary namespaces aliased in the scope of the block, you can use the <code>RDF</code>, <code>RDFS</code> and <code>OWL</code> vocabulary namespaces inside of the build block without an explicit alias.
Also, RDF sigils are available without an explicit <code>import RDF.Sigils</code>.
Similar to the <code>a</code> keyword in Turtle, an <code>a</code> alias for the <code>RDF.type</code> function can be used.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">require</span> <span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span>
<span class="token keyword">alias</span> <span class="token module class-name">NS</span><span class="token punctuation">.</span><span class="token module class-name">EX</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token punctuation">{</span>~<span class="token module class-name">I</span>&lt;<span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token module class-name">Demo</span>&gt;<span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">P</span><span class="token punctuation">,</span> ~<span class="token module class-name">L</span>&lt;literal<span class="token operator">&gt;</span>en<span class="token punctuation">}</span>

  <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Foo</span>
  <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">OWL</span><span class="token punctuation">.</span><span class="token module class-name">Class</span><span class="token punctuation">)</span>
  <span class="token operator">|&gt;</span> <span class="token module class-name">RDFS</span><span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>In order to not pollute the context of the <code>build</code> caller with these auto-<code>alias</code>es and -<code>import</code>s, the build block is isolated under the hood from the caller context. But this also means variables from the caller context are not available in the build block. If you want to use them in build block, you'll have to rebind the variables in a keyword list as the first argument of the <code>build</code> call.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">use</span> <span class="token module class-name">RDF</span>

foo <span class="token operator">=</span> <span class="token number">42</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">foo:</span> foo <span class="token keyword">do</span>
  <span class="token punctuation">{</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> foo<span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre></div><p>The same applies to <code>import</code>s and <code>require</code>s from the caller context. You'll have to re-<code>import</code> or re-<code>require</code> them. Aliases from the caller context, however, are all available because they are re-<code>alias</code>ed automatically in the build block.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">use</span> <span class="token module class-name">RDF</span>
<span class="token keyword">alias</span> <span class="token module class-name">EX</span>
<span class="token keyword">import</span> <span class="token module class-name">Something</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token comment"># Something is not imported here and needs to be </span>
  <span class="token comment"># re-imported again to be available</span>
  <span class="token keyword">import</span> <span class="token module class-name">Something</span>

  <span class="token comment"># EX is available  </span>
  <span class="token punctuation">{</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span><span class="token punctuation">,</span> <span class="token function">something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O</span><span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre></div><p>In fact, with Elixir versions &gt;= 1.17, aliases inside of the build block are no longer supported, i.e. don't have the desired effect. However, instead of aliasing vocabulary namespaces in the surrounding module, there is a better solution anyway: you can also declare them inside of the build block with a <code>@prefix</code> definition. This will not only create an alias for the vocabulary namespace in the build block, but adds it as a prefix to the created <code>RDF.Graph</code>. By default, it will use the downcased and underscored name of the vocabulary namespace module (resp. the last segment of its fully qualified name), but you can also define a custom prefix by providing it as the key in a keyword tuple after the <code>@prefix</code>, instead of just defining the vocabulary namespace module.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">require</span> <span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token attribute variable">@prefix</span> <span class="token module class-name">NS</span><span class="token punctuation">.</span><span class="token module class-name">FOAF</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">rel:</span> <span class="token module class-name">NS</span><span class="token punctuation">.</span><span class="token module class-name">Rel</span>

  ~<span class="token module class-name">I</span>&lt;<span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token comment">#green-goblin&gt;</span>
    <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token module class-name">Person</span><span class="token punctuation">)</span>    
    <span class="token operator">|&gt;</span> <span class="token module class-name">Rel</span><span class="token punctuation">.</span><span class="token function">enemyOf</span><span class="token punctuation">(</span>~<span class="token module class-name">I</span>&lt;<span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token comment">#spiderman&gt;)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;Green Goblin&quot;</span><span class="token punctuation">)</span>

  ~<span class="token module class-name">I</span>&lt;<span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token comment">#spiderman&gt;</span>
    <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token module class-name">Person</span><span class="token punctuation">)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">Rel</span><span class="token punctuation">.</span><span class="token function">enemyOf</span><span class="token punctuation">(</span>~<span class="token module class-name">I</span>&lt;<span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token comment">#green-goblin&gt;)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Spiderman&quot;</span><span class="token punctuation">,</span> ~<span class="token module class-name">L</span><span class="token string">&quot;Человек-паук&quot;</span>ru<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>This will build the following <code>RDF.Graph</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>#RDF.Graph&lt;name: nil
  @prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
  @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
  @prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
  @prefix rel: &lt;http://www.perceive.net/schemas/relationship/&gt; .
  @prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

  &lt;http://example.org/#green-goblin&gt;
      a foaf:Person ;
      rel:enemyOf &lt;http://example.org/#spiderman&gt; ;
      foaf:name &quot;Green Goblin&quot; .

  &lt;http://example.org/#spiderman&gt;
      a foaf:Person ;
      rel:enemyOf &lt;http://example.org/#green-goblin&gt; ;
      foaf:name &quot;Человек-паук&quot;@ru, &quot;Spiderman&quot; .
&gt;
</code></pre></div><p>When you want to use terms from a URI namespace for which you don't have <code>RDF.Vocabulary.Namespace</code> defined in your application, you can define an ad-hoc namespace in your <code>build</code> block with a <code>@prefix</code> definition and a string with the URI namespace. In that case you must also provide the prefix to be used. The name for the generated ad-hoc vocabulary namespace will be the upper-cased version of the prefix.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">ex:</span> <span class="token string">&quot;http://example.com/ad-hoc/&quot;</span>

  <span class="token module class-name">Ex</span><span class="token punctuation">.</span><span class="token module class-name">S</span> <span class="token operator">|&gt;</span> <span class="token module class-name">Ex</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token module class-name">Ex</span><span class="token punctuation">.</span><span class="token module class-name">O</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>This will result in the following <code>RDF.Graph</code>:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token comment">#RDF.Graph&lt;name: nil</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">ex:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>ad<span class="token operator">-</span>hoc<span class="token operator">/</span>&gt; <span class="token punctuation">.</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">rdf:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span><span class="token function">org</span><span class="token operator">/</span><span class="token number">1999</span><span class="token operator">/</span><span class="token number">02</span><span class="token operator">/</span><span class="token number">22</span><span class="token operator">-</span>rdf<span class="token operator">-</span>syntax<span class="token operator">-</span>ns<span class="token comment">#&gt; .</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">rdfs:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span><span class="token function">org</span><span class="token operator">/</span><span class="token number">2000</span><span class="token operator">/</span><span class="token number">01</span><span class="token operator">/</span>rdf<span class="token operator">-</span>schema<span class="token comment">#&gt; .</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">xsd:</span> <span class="token operator">&lt;</span><span class="token attr-name">http:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>w3<span class="token punctuation">.</span><span class="token function">org</span><span class="token operator">/</span><span class="token number">2001</span><span class="token operator">/</span><span class="token module class-name">XMLSchema</span><span class="token comment">#&gt; .</span>

  ex<span class="token atom symbol">:S</span>
      ex<span class="token atom symbol">:p</span> ex<span class="token atom symbol">:O</span> <span class="token punctuation">.</span>
<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Unfortunately, for Elixir versions &lt; 1.13 you might encounter undefined-function warnings for uses of lower-cased terms from ad-hoc namespaces defined with such <code>@prefix</code> definitions.</p></div> <p>The base URI of the <code>RDF.Graph</code> can be specified with a <code>@base</code> declaration and the URI as a string, IRI sigil or a vocabulary namespace. With a <code>@base</code> declaration in place, all IRI sigils in the build block with relative URIs, will be automatically resolved to absolute URIs against the specified base URI.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">require</span> <span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  <span class="token attribute variable">@base</span> <span class="token module class-name">EX</span>
  <span class="token attribute variable">@prefix</span> <span class="token module class-name">FOAF</span>
  <span class="token attribute variable">@prefix</span> <span class="token module class-name">Rel</span>
  
  ~<span class="token module class-name">I</span>&lt;<span class="token comment">#green-goblin&gt;</span>
    <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token module class-name">Person</span><span class="token punctuation">)</span>    
    <span class="token operator">|&gt;</span> <span class="token module class-name">Rel</span><span class="token punctuation">.</span><span class="token function">enemyOf</span><span class="token punctuation">(</span>~<span class="token module class-name">I</span>&lt;<span class="token comment">#spiderman&gt;)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;Green Goblin&quot;</span><span class="token punctuation">)</span>

  ~<span class="token module class-name">I</span>&lt;<span class="token comment">#spiderman&gt;</span>
    <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token module class-name">Person</span><span class="token punctuation">)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">Rel</span><span class="token punctuation">.</span><span class="token function">enemyOf</span><span class="token punctuation">(</span>~<span class="token module class-name">I</span>&lt;<span class="token comment">#green-goblin&gt;)</span>
    <span class="token operator">|&gt;</span> <span class="token module class-name">FOAF</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;Spiderman&quot;</span><span class="token punctuation">,</span> ~<span class="token module class-name">L</span><span class="token string">&quot;Человек-паук&quot;</span>ru<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>Now, we're building this <code>RDF.Graph</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>#RDF.Graph&lt;name: nil
  @base &lt;http://example.org/&gt; .

  @prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
  @prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
  @prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
  @prefix rel: &lt;http://www.perceive.net/schemas/relationship/&gt; .
  @prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

  &lt;#green-goblin&gt;
      a foaf:Person ;
      rel:enemyOf &lt;#spiderman&gt; ;
      foaf:name &quot;Green Goblin&quot; .

  &lt;#spiderman&gt;
      a foaf:Person ;
      rel:enemyOf &lt;#green-goblin&gt; ;
      foaf:name &quot;Человек-паук&quot;@ru, &quot;Spiderman&quot; .
&gt;
</code></pre></div><p>So far, all examples have shown fixed triple structures only, but the build blocks can include any Elixir expression, as long it returns RDF data in any of the forms supported by RDF.ex.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">file:</span> file<span class="token punctuation">,</span> <span class="token attr-name">args:</span> args<span class="token punctuation">,</span> <span class="token attr-name">rank:</span> rank <span class="token keyword">do</span>
  <span class="token attribute variable">@base</span> <span class="token string">&quot;http://chess.example.com/&quot;</span>
  <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

  <span class="token module class-name">Enum</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token punctuation">{</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token argument variable">&amp;1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">for</span> file <span class="token operator">&lt;-</span> ?a<span class="token operator">..</span>?h<span class="token punctuation">,</span> rank <span class="token operator">&lt;-</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">8</span> <span class="token keyword">do</span>
    ~i<span class="token operator">&lt;</span><span class="token comment">##{file}#{rank}&gt;</span>
    <span class="token operator">|&gt;</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token module class-name">Chess</span><span class="token punctuation">.</span><span class="token module class-name">Square</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre></div><p>If an expression evaluates to <code>nil</code> or <code>:ok</code>, it will be excluded automatically. This enables the use of conditionals and the use of the logger in your build blocks:</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">args:</span> args <span class="token keyword">do</span>
  <span class="token comment"># the nil result in the negative case is ignored</span>
  <span class="token keyword">if</span> <span class="token function">someCondition?</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
  <span class="token keyword">end</span> 

  <span class="token keyword">if</span> <span class="token function">good_data?</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_more_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
  <span class="token keyword">else</span>
    <span class="token comment"># the :ok value returned by Logger.warn/1 is ignored</span>
    <span class="token module class-name">Logger</span><span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;Bad data was ignored&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">end</span> 
<span class="token keyword">end</span>
</code></pre></div><p>Assignments in build blocks are essentially declarations, as their results are also ignored from the inclusion in the produced graph.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  reusable_value <span class="token operator">=</span> <span class="token number">42</span>
 
  <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S1</span> <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span>reusable_value<span class="token punctuation">)</span>
  <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S2</span> <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span>reusable_value<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>So, if you assign some RDF data to a variable and want to include it in the graph, you have to evaluate the assigned variable explicitly.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token keyword">do</span>
  triple <span class="token operator">=</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span> <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O</span><span class="token punctuation">)</span>
  triple
<span class="token keyword">end</span>
</code></pre></div><p>The fact that assignments are not added to the graph, allows you to use them to ignore an expression in a build block, which does return something you don't want to include in the built RDF graph.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">args:</span> args <span class="token keyword">do</span>
  _ <span class="token operator">=</span> <span class="token function">function_with_side_effects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>Note that the assignments are still pattern matches, so they can be used as validation guards.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">args:</span> args <span class="token keyword">do</span>
  <span class="token punctuation">{</span><span class="token atom symbol">:ok</span><span class="token punctuation">,</span> _<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">function_with_side_effects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>Finally, you can also exclude the result of an expression from inclusion in the built RDF graph more explicitly, by prepending it with the <code>exclude</code> function.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token attr-name">args:</span> args <span class="token keyword">do</span>
  exclude <span class="token function">function_with_side_effects</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token module class-name">ExampleModule</span><span class="token punctuation">.</span><span class="token function">function_returning_rdf</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>The <code>RDF.Graph.build/2</code> function also accepts all options available on <code>RDF.Graph.new/2</code> as the second argument, which it will use to create the initial <code>RDF.Graph</code> to which the triples in the build block are added. The <code>@prefix</code>es and <code>@base</code> URI declared within the build block will overwrite the ones from <code>:prefixes</code> and <code>:base</code> keyword options.</p> <div class="language-elixir extra-class"><pre class="language-elixir"><code><span class="token keyword">use</span> <span class="token module class-name">RDF</span>
<span class="token keyword">alias</span> <span class="token module class-name">NS</span><span class="token punctuation">.</span><span class="token module class-name">EX</span>

opts <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token attr-name">name:</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">GraphName</span><span class="token punctuation">,</span> 
  <span class="token attr-name">base_iri:</span> <span class="token string">&quot;http://base_iri/A&quot;</span><span class="token punctuation">,</span>
  <span class="token attr-name">prefixes:</span> <span class="token punctuation">[</span>
    <span class="token attr-name">ex:</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">old</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token attr-name">other:</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">used</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token attr-name">init:</span> <span class="token punctuation">{</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Foo</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Bar</span><span class="token punctuation">,</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">Baz</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token module class-name">RDF</span><span class="token punctuation">.</span><span class="token module class-name">Graph</span><span class="token punctuation">.</span>build <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> opts <span class="token keyword">do</span>
  <span class="token attribute variable">@base</span> <span class="token string">&quot;http://base_iri/B&quot;</span>
  <span class="token attribute variable">@prefix</span> <span class="token attr-name">ex:</span> <span class="token module class-name">EX</span>

  <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">S</span> <span class="token operator">|&gt;</span> <span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token module class-name">EX</span><span class="token punctuation">.</span><span class="token module class-name">O</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre></div><p>This will build this graph:</p> <div class="language- extra-class"><pre class="language-text"><code>#RDF.Graph&lt;name: ~I&lt;http://example.org/GraphName&gt;
  @base &lt;http://base_iri/B&gt; .

  @prefix ex: &lt;http://example.org/&gt; .
  @prefix other: &lt;http://example.org/used&gt; .

  ex:Foo
      ex:Bar ex:Baz .

  ex:S
      ex:p ex:O .
&gt;
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Providing an existing graph on the <code>:init</code> opt is the shortest way to use <code>build</code> for adding statements to an existing graph.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rdf-elixir/website/edit/master/content/rdf-ex/description-and-graph-dsl.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/6/2024, 10:37:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rdf-ex/lists.html" class="prev">
        Lists
      </a></span> <span class="next"><a href="/rdf-ex/mapping-between-rdf-and-elixir.html">
        Mapping of RDF terms and structures
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.d516a4a9.js" defer></script><script src="/assets/js/2.fe4a9d0f.js" defer></script><script src="/assets/js/21.5e2eba51.js" defer></script><script src="/assets/js/3.86527ece.js" defer></script>
  </body>
</html>
